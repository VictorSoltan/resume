{"ast":null,"code":"import React from'react';import'./App.css';import Avatar from'./components/Avatar';import Bio from'./components/Bio';import{jsPDF}from\"jspdf\";import domtoimage from'dom-to-image';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var Save=function Save(){var textSpan=document.createElement(\"span\");var area=document.querySelectorAll('textarea');for(var x=0;x<area.length;x++){textSpan.innerHTML=area[x].value;textSpan.style.width=area[x].offsetWidth+'px';textSpan.style.height=area[x].offsetHeight+'px';area[x].parentNode.appendChild(textSpan);area[x].parentNode.removeChild(area[x]);}};var printDocument=function printDocument(){document.body.scrollTop=0;document.documentElement.scrollTop=0;// document.querySelector('.save-button').style = 'display: none;'\nvar inputList=document.querySelectorAll('.input');for(var x=0;x<inputList.length;x++){inputList[x].style='border-bottom: none;';}var procents=document.querySelectorAll('.procents');for(var _x=0;_x<procents.length;_x++){procents[_x].style='display: none;';}var buttons=document.querySelectorAll('.add-buttons');for(var _x2=0;_x2<buttons.length;_x2++){buttons[_x2].style='display: none;';}document.querySelector('.browse-img').style='visibility: hidden;';var input=document.querySelector('.App');var scale=3;console.log(input);var style={transform:'scale('+scale+')',transformOrigin:'top left',width:input.offsetWidth+\"px\",height:input.offsetHeight+\"px\"};var param={height:input.offsetHeight*scale,width:input.offsetWidth*scale,quality:1,style:style};domtoimage.toPng(input,param).then(function(imgData){var ImWidth=input.offsetWidth;var ImHeight=input.offsetHeight;var millimeters={};millimeters.Width=Math.floor(ImWidth/5.90476190476);millimeters.Height=Math.floor(ImHeight/5.90476190476);console.log(ImWidth+'...'+millimeters.Width);console.log(ImHeight+'...'+millimeters.Height);var pdf=new jsPDF(\"p\",\"mm\",\"a4\",millimeters.Width,millimeters.Height);pdf.internal.scaleFactor=30;pdf.addImage(imgData,'PNG',0,0,millimeters.Width,millimeters.Height);pdf.save(\"download.pdf\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Avatar,{}),/*#__PURE__*/_jsx(Bio,{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:printDocument,children:\"\\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B \\u0432 PDF\"}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:Save,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]});}export default App;","map":{"version":3,"sources":["/home/holden/Documents/frontend/resume/src/App.js"],"names":["React","Avatar","Bio","jsPDF","domtoimage","App","Save","textSpan","document","createElement","area","querySelectorAll","x","length","innerHTML","value","style","width","offsetWidth","height","offsetHeight","parentNode","appendChild","removeChild","printDocument","body","scrollTop","documentElement","inputList","procents","buttons","querySelector","input","scale","console","log","transform","transformOrigin","param","quality","toPng","then","imgData","ImWidth","ImHeight","millimeters","Width","Math","floor","Height","pdf","internal","scaleFactor","addImage","save"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Avatar from './components/Avatar'\nimport Bio from './components/Bio'\nimport { jsPDF } from \"jspdf\";\nimport domtoimage from 'dom-to-image';\n\nfunction App() {\n  const Save = () => {\n    let textSpan = document.createElement(\"span\");\n    let area = document.querySelectorAll('textarea')\n    for(let x=0; x<area.length; x++){\n      textSpan.innerHTML = area[x].value\n      textSpan.style.width = area[x].offsetWidth + 'px'\n      textSpan.style.height = area[x].offsetHeight + 'px'\n      area[x].parentNode.appendChild(textSpan)\n      area[x].parentNode.removeChild(area[x])\n    } \n  }\n\n  const printDocument = () => {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n    // document.querySelector('.save-button').style = 'display: none;'\n    let inputList = document.querySelectorAll('.input')\n    for (let x = 0; x < inputList.length; x++){\n      inputList[x].style = 'border-bottom: none;'\n    }\n    let procents = document.querySelectorAll('.procents')\n    for (let x = 0; x < procents.length; x++){\n      procents[x].style = 'display: none;'\n    }    \n    const buttons = document.querySelectorAll('.add-buttons')\n    for (let x = 0; x < buttons.length; x++){\n      buttons[x].style = 'display: none;'\n    }        \n    document.querySelector('.browse-img').style = 'visibility: hidden;'\n    const input = document.querySelector('.App');\n    const scale = 3\n    console.log(input)\n    \n    const style = {\n      transform: 'scale('+scale+')',\n      transformOrigin: 'top left',\n      width: input.offsetWidth + \"px\",\n      height: input.offsetHeight + \"px\"\n    }\n  \n    const param = {\n      height: input.offsetHeight * scale,\n      width: input.offsetWidth * scale,\n      quality: 1,\n      style\n    }\n\n    domtoimage.toPng(input, param)\n      .then(function (imgData) {\n \n          let ImWidth = input.offsetWidth;\n          let ImHeight = input.offsetHeight;\n          let millimeters = {};\n          millimeters.Width = Math.floor(ImWidth / 5.90476190476);\n          millimeters.Height = Math.floor(ImHeight / 5.90476190476);\n          console.log(ImWidth + '...' + millimeters.Width)\n          console.log(ImHeight + '...' + millimeters.Height)\n          const pdf = new jsPDF(\"p\", \"mm\", \"a4\", millimeters.Width, millimeters.Height);\n          pdf.internal.scaleFactor = 30;\n          pdf.addImage(imgData, 'PNG', 0, 0, millimeters.Width, millimeters.Height);\n          pdf.save(\"download.pdf\");\n      });\n  }\n  return (\n    <div>\n      <div className=\"App\">\n        <Avatar />\n        <Bio />\n      </div>\n      <button className=\"save-button\" onClick={printDocument}>Экспортировать файл в PDF</button>\n      <button className=\"save-button\" onClick={Save}>Сохранить</button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}