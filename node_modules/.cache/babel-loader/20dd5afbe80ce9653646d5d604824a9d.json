{"ast":null,"code":"import React from'react';import'./App.css';import Avatar from'./components/Avatar';import Bio from'./components/Bio';import{jsPDF}from\"jspdf\";import domtoimage from'dom-to-image';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var Save=function Save(){var area=document.querySelectorAll('textarea');for(var x=0;x<area.length;x++){var textSpan=document.createElement(\"div\");textSpan.classList.add('contint');textSpan.contentEditable=\"true\";textSpan.innerHTML=area[x].value;textSpan.style.width=area[x].offsetWidth+'px';textSpan.style.height=area[x].offsetHeight+'px';console.log(textSpan);area[x].parentNode.appendChild(textSpan);area[x].parentNode.removeChild(area[x]);}};var printDocument=function printDocument(){document.body.scrollTop=0;document.documentElement.scrollTop=0;// document.querySelector('.save-button').style = 'display: none;'\nvar inputList=document.querySelectorAll('.input');for(var x=0;x<inputList.length;x++){inputList[x].style='border-bottom: none;';}var procents=document.querySelectorAll('.procents');for(var _x=0;_x<procents.length;_x++){procents[_x].style='display: none;';}var buttons=document.querySelectorAll('.add-buttons');for(var _x2=0;_x2<buttons.length;_x2++){buttons[_x2].style='display: none;';}document.querySelector('.browse-img').style='visibility: hidden;';var input=document.querySelector('.App');var scale=3;console.log(input);var style={transform:'scale('+scale+')',transformOrigin:'top left',width:input.offsetWidth+\"px\",height:input.offsetHeight+\"px\"};var param={height:input.offsetHeight*scale,width:input.offsetWidth*scale,quality:1,style:style};domtoimage.toPng(input,param).then(function(imgData){var ImWidth=input.offsetWidth;var ImHeight=input.offsetHeight;var millimeters={};millimeters.Width=Math.floor(ImWidth/5.90476190476);millimeters.Height=Math.floor(ImHeight/5.90476190476);console.log(ImWidth+'...'+millimeters.Width);console.log(ImHeight+'...'+millimeters.Height);var pdf=new jsPDF(\"p\",\"mm\",\"a4\",millimeters.Width,millimeters.Height);pdf.internal.scaleFactor=30;pdf.addImage(imgData,'PNG',0,0,millimeters.Width,millimeters.Height);pdf.save(\"download.pdf\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Avatar,{}),/*#__PURE__*/_jsx(Bio,{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:printDocument,children:\"\\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B \\u0432 PDF\"}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:Save,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]});}export default App;","map":{"version":3,"sources":["/home/holden/Documents/frontend/resume/src/App.js"],"names":["React","Avatar","Bio","jsPDF","domtoimage","App","Save","area","document","querySelectorAll","x","length","textSpan","createElement","classList","add","contentEditable","innerHTML","value","style","width","offsetWidth","height","offsetHeight","console","log","parentNode","appendChild","removeChild","printDocument","body","scrollTop","documentElement","inputList","procents","buttons","querySelector","input","scale","transform","transformOrigin","param","quality","toPng","then","imgData","ImWidth","ImHeight","millimeters","Width","Math","floor","Height","pdf","internal","scaleFactor","addImage","save"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Avatar from './components/Avatar'\nimport Bio from './components/Bio'\nimport { jsPDF } from \"jspdf\";\nimport domtoimage from 'dom-to-image';\n\nfunction App() {\n  const Save = () => {\n    let area = document.querySelectorAll('textarea')\n    for(let x=0; x<area.length; x++){\n      let textSpan = document.createElement(\"div\");\n      textSpan.classList.add('contint')\n      textSpan.contentEditable = \"true\"; \n      textSpan.innerHTML = area[x].value\n      textSpan.style.width = area[x].offsetWidth + 'px'\n      textSpan.style.height = area[x].offsetHeight + 'px'\n      console.log(textSpan)\n      area[x].parentNode.appendChild(textSpan)\n      area[x].parentNode.removeChild(area[x])\n    } \n  }\n\n  const printDocument = () => {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n    // document.querySelector('.save-button').style = 'display: none;'\n    let inputList = document.querySelectorAll('.input')\n    for (let x = 0; x < inputList.length; x++){\n      inputList[x].style = 'border-bottom: none;'\n    }\n    let procents = document.querySelectorAll('.procents')\n    for (let x = 0; x < procents.length; x++){\n      procents[x].style = 'display: none;'\n    }    \n    const buttons = document.querySelectorAll('.add-buttons')\n    for (let x = 0; x < buttons.length; x++){\n      buttons[x].style = 'display: none;'\n    }        \n    document.querySelector('.browse-img').style = 'visibility: hidden;'\n    const input = document.querySelector('.App');\n    const scale = 3\n    console.log(input)\n    \n    const style = {\n      transform: 'scale('+scale+')',\n      transformOrigin: 'top left',\n      width: input.offsetWidth + \"px\",\n      height: input.offsetHeight + \"px\"\n    }\n  \n    const param = {\n      height: input.offsetHeight * scale,\n      width: input.offsetWidth * scale,\n      quality: 1,\n      style\n    }\n\n    domtoimage.toPng(input, param)\n      .then(function (imgData) {\n \n          let ImWidth = input.offsetWidth;\n          let ImHeight = input.offsetHeight;\n          let millimeters = {};\n          millimeters.Width = Math.floor(ImWidth / 5.90476190476);\n          millimeters.Height = Math.floor(ImHeight / 5.90476190476);\n          console.log(ImWidth + '...' + millimeters.Width)\n          console.log(ImHeight + '...' + millimeters.Height)\n          const pdf = new jsPDF(\"p\", \"mm\", \"a4\", millimeters.Width, millimeters.Height);\n          pdf.internal.scaleFactor = 30;\n          pdf.addImage(imgData, 'PNG', 0, 0, millimeters.Width, millimeters.Height);\n          pdf.save(\"download.pdf\");\n      });\n  }\n  return (\n    <div>\n      <div className=\"App\">\n        <Avatar />\n        <Bio />\n      </div>\n      <button className=\"save-button\" onClick={printDocument}>Экспортировать файл в PDF</button>\n      <button className=\"save-button\" onClick={Save}>Сохранить</button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}